---
title: "Errors & Simulations"
description: "Error handling and testing simulations for the Terminal API"
---

# Errors & Simulations

Error handling is an essential part of integrating with the Xendit's Payment Terminal API. This section covers error codes, error handling best practices, and testing simulations.

## Error Data Structure

An error occurs when the HTTP status is not 200.

<ResponseField name="error_code" type="string">
  Error code
</ResponseField>

<ResponseField name="message" type="string">
  Error message
</ResponseField>

## Error Codes

<Table>
  <TableHead>
    <TableRow>
      <TableHeader>Code</TableHeader>
      <TableHeader>Description</TableHeader>
    </TableRow>
  </TableHead>
  <TableBody>
    <TableRow>
      <TableCell><Code>INVALID_REQUEST</Code></TableCell>
      <TableCell>Missing or invalid parameters</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Code>DUPLICATED_REQUEST</Code></TableCell>
      <TableCell>Duplicated reference id</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Code>UNAUTHORIZED</Code></TableCell>
      <TableCell>Unauthorized, invalid API Key</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Code>CURRENCY_NOT_SUPPORTED</Code></TableCell>
      <TableCell>Currency is not supported for your account</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Code>TERMINAL_NOT_FOUND</Code></TableCell>
      <TableCell>The terminal id is not configured for your account</TableCell>
    </TableRow>
    <TableRow>
      <TableCell><Code>COMMAND_NOT_SUPPORTED</Code></TableCell>
      <TableCell>The command currently not supported for this terminal</TableCell>
    </TableRow>
  </TableBody>
</Table>

## Error Handling Best Practices

<CardGroup cols={2}>
  <Card title="Parse Error Response" icon="code">
    Always parse the error response and use the error code or message to determine the cause of the failure
  </Card>
  <Card title="Log Errors" icon="file-text">
    Log error responses for debugging and monitoring purposes
  </Card>
  <Card title="Retry Logic" icon="refresh">
    Implement appropriate retry logic for transient errors
  </Card>
  <Card title="User Feedback" icon="user">
    Provide meaningful error messages to end users when appropriate
  </Card>
</CardGroup>

## Example Error Response

```json
{
  "error_code": "INVALID_REQUEST",
  "message": "Missing required parameter: terminal_id"
}
```

## Simulations

**Perfect for merchants without physical terminals yet!** 

You can start integrating immediately using our simulation capabilities. No need to wait for terminal delivery - test payment flows, error handling, and webhook integrations using special test amounts and terminal IDs.

<Info>
**Getting Started Without Hardware**: Use any `terminal_id` value (like `SIM001`) and special test amounts to simulate different payment scenarios. This is ideal for merchants waiting on terminal delivery or those who want to build and test their integration before hardware arrives.
</Info>

For testing purposes in test mode, the following special amounts and terminal IDs can be used to trigger specific situations or errors. Otherwise the API will always succeed.

<Warning>
These simulations only work in test mode. In production mode, all transactions will be processed normally.
</Warning>

### Payment Session Simulations

<Table>
  <TableHead>
    <TableRow>
      <TableHeader>Case</TableHeader>
      <TableHeader>Amount (6 digits)</TableHeader>
      <TableHeader>Terminal ID</TableHeader>
      <TableHeader>Description</TableHeader>
      <TableHeader>Expected Behavior</TableHeader>
    </TableRow>
  </TableHead>
  <TableBody>
    <TableRow>
      <TableCell>Failed to Pay</TableCell>
      <TableCell><Code>400508</Code></TableCell>
      <TableCell>All</TableCell>
      <TableCell>Emulates: Payment declined by terminal</TableCell>
      <TableCell>Session created, transaction failed</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Channel Unavailable</TableCell>
      <TableCell><Code>400509</Code></TableCell>
      <TableCell>All</TableCell>
      <TableCell>Emulates: Channel is not available by any reason</TableCell>
      <TableCell>Session failed to create</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Canceled</TableCell>
      <TableCell><Code>400711</Code></TableCell>
      <TableCell>All</TableCell>
      <TableCell>Emulates: User canceled on terminal</TableCell>
      <TableCell>Session created, then canceled</TableCell>
    </TableRow>
    <TableRow>
      <TableCell>Invalid TID</TableCell>
      <TableCell>Any</TableCell>
      <TableCell><Code>4040404</Code></TableCell>
      <TableCell>Invalid terminal ID</TableCell>
      <TableCell>Session creation fails</TableCell>
    </TableRow>
  </TableBody>
</Table>

### Testing with Real Terminals in Test Mode

For detailed instructions on registering and testing with real terminals in test mode, see the [Physical Terminal Testing section](/guides/getting-started/quickstart#physical-terminal-testing) in our quickstart guide.

#### Key Differences: Real Terminal Testing vs Simulation

<Tabs>
<Tab title="Real Terminal Testing">
  **Uses physical hardware with test transactions**
  
  - **✓** Real card reader interactions
  - **✓** Real money movement
  - **✓** Actual terminal display prompts
  - **✓** Physical button presses and card taps
  - **✓** Network connectivity testing
  - **✓** Complete hardware validation
  - **!** Requires terminal registration
  - **!** Dependent on physical hardware
</Tab>

<Tab title="Simulation Testing">
  **API-only testing without hardware**
  
  - **✓** Immediate testing without hardware
  - **✓** Comprehensive error scenario testing
  - **✓** Webhook integration validation
  - **✓** No registration required
  - **✓** Faster development cycles
  - **×** No physical hardware validation
  - **×** Limited to API-level testing
</Tab>
</Tabs>

#### Troubleshooting Real Terminal Testing

<AccordionGroup>
  <Accordion title="Terminal Not Responding">
    **Symptoms**: API calls succeed but terminal doesn't show payment prompts
    
    <Steps>
      <Step title="Check Terminal Status">
        Verify terminal shows "Connected" in Terminal Gateway
      </Step>
      <Step title="Verify Registration">
        Confirm terminal ID is registered for test mode
      </Step>
      <Step title="Test Network Connection">
        Ensure terminal has stable network connectivity
      </Step>
      <Step title="Restart Terminal Gateway">
        Restart the Terminal Gateway app/SDK connection
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="TERMINAL_NOT_FOUND Error">
    **Symptoms**: API returns error code `TERMINAL_NOT_FOUND`
    
    <Steps>
      <Step title="Verify Terminal ID">
        Double-check the terminal ID matches exactly
      </Step>
      <Step title="Check Registration Status">
        Contact support to verify registration is complete
      </Step>
      <Step title="Confirm Environment">
        Ensure using test API key with test terminal registration
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Transactions Fall Back to Simulation">
    **Symptoms**: API works but no physical terminal interaction
    
    <Steps>
      <Step title="Confirm Registration">
        Verify terminal is registered (unregistered terminals auto-simulate)
      </Step>
      <Step title="Check Terminal Gateway Mode">
        Ensure Terminal Gateway is in test mode, not simulation mode
      </Step>
      <Step title="Validate Terminal Connection">
        Confirm terminal shows active connection status
      </Step>
    </Steps>
  </Accordion>
</AccordionGroup>

<Note>
**Best Practice**: Start with simulation testing for initial integration, then move to real terminal testing for final validation before production.
</Note>

## Testing

For comprehensive testing instructions, including both simulation and physical terminal testing, see our [quickstart guide](/guides/getting-started/quickstart#for-physical-terminal-testing).

## Error Recovery Strategies

<AccordionGroup>
  <Accordion title="INVALID_REQUEST">
    <Steps>
      <Step title="Check Parameters">
        Verify all required parameters are present and correctly formatted
      </Step>
      <Step title="Validate Data Types">
        Ensure data types match the API specification
      </Step>
      <Step title="Retry with Corrected Data">
        Fix the request and retry
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="DUPLICATED_REQUEST">
    <Steps>
      <Step title="Check Idempotency Key">
        Ensure the idempotency key is unique across all environments
      </Step>
      <Step title="Generate New Key">
        Create a new unique idempotency key
      </Step>
      <Step title="Retry Request">
        Retry with the new idempotency key
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="UNAUTHORIZED">
    <Steps>
      <Step title="Verify API Key">
        Check that the API key is correct and active
      </Step>
      <Step title="Check Encoding">
        Ensure the API key is properly base64 encoded with the colon
      </Step>
      <Step title="Contact Support">
        If the issue persists, contact Xendit support
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="TERMINAL_NOT_FOUND">
    <Steps>
      <Step title="Verify Terminal ID">
        Check that the terminal ID is correct
      </Step>
      <Step title="Check Registration">
        Ensure the terminal is registered for your account
      </Step>
      <Step title="Contact Support">
        If needed, contact support to register the terminal
      </Step>
    </Steps>
  </Accordion>
</AccordionGroup>
