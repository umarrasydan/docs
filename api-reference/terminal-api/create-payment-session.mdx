---
title: "Create Payment Session"
api: "POST /v1/terminal/sessions"
description: "Create a new payment session for terminal-based payments"
---

# Create Payment Session

Creates a new payment session that prepares a terminal device for payment collection.

<Info>
**Testing without a physical terminal?** You can use any `terminal_id` value and special test amounts to simulate different payment scenarios. Perfect for merchants waiting on terminal delivery!
</Info>

## Flow Diagram

<Mermaid>
graph TD
    A[Merchant] -->|POST /v1/terminal/sessions| B[Terminal API]
    B --> C[Validate Request]
    C --> D[Create Payment Session]
    D --> E[Prepare Terminal Device]
    E --> F[Return Session Details]
    F --> A
    E --> G[Customer Interaction]
    G --> H[Payment Processing]
    H --> I[Payment Object Created]
    I --> J[Session Status Updated]
</Mermaid>

## Headers

<ParamField query="Content-Type" type="string" required>
  `application/json`
</ParamField>

<ParamField query="Authorization" type="string" required>
  `Basic <Base64Encode(API_KEY:)>`
</ParamField>

<ParamField query="Idempotency-key" type="string" required>
  A unique key to prevent processing duplicate requests. It can be your reference_id or any GUID. Must be unique across development & production environments.
</ParamField>

## Request Body

<ParamField body="reference_id" type="string">
  Merchant's reference ID
</ParamField>

<ParamField body="customer_id" type="string">
  Xendit-generated Customer ID
</ParamField>

<ParamField body="customer" type="object">
  Information about customer (Xendit API Reference)
</ParamField>

<ParamField body="session_type" type="string" required>
  <Enum values={["PAY"]} />
  
  `PAY`: collects a one-time payment from a customer
  
  Only supported PAY for terminal session for now
</ParamField>

<ParamField body="country" type="string" required>
  <Enum values={["ID", "TH", "VN"]} />
  
  Country code
</ParamField>

<ParamField body="currency" type="string" required>
  <Enum values={["IDR", "THB", "VND"]} />
  
  Currently supports IDR, THB, VND only
</ParamField>

<ParamField body="amount" type="number" required>
  The intended payment amount to be collected from the end user
</ParamField>

<ParamField body="mode" type="string" required>
  <Enum values={["TERMINAL"]} />
  
  The integration mode for payment session. Only supported TERMINAL mode for now
</ParamField>

<ParamField body="description" type="string">
  Payment description
</ParamField>

<ParamField body="metadata" type="object">
  Key-value entries for your custom data
</ParamField>

<ParamField body="channel_properties" type="object" required>
  Data required to initiate transaction
</ParamField>

<ParamField body="channel_properties.terminal_id" type="string" required>
  Terminal ID
</ParamField>

<ParamField body="channel_properties.order_id" type="string">
  Order ID
  
  Required if currency is IDR
</ParamField>

<ParamField body="channel_properties.payment_methods" type="array">
  <Enum values={["ID_INSERT_CARD", "ID_CONTACTLESS", "ID_BRIZZI", "ID_QRIS", "VN_CARD", "VN_QR", "TH_ALIPAY_PLUS", "TH_WECHATPAY_CIL", "TH_WECHATPAY_OCGT", "TH_TRUEMONEY", "TH_LINEPAY", "TH_SHOPEEPAY", "TH_SABUYMONEY", "TH_MAXME", "TH_CARD", "TH_BBL_QRCS", "TH_MULTIIPP", "TH_QRCODE", "MY_QR", "MY_CARD", "MY_EWALLET"]} />
  
  Empty array means all available channels are allowed
</ParamField>

## Response

<ResponseField name="payment_session_id" type="string">
  Xendit unique Payment Session ID
</ResponseField>

<ResponseField name="created" type="DateTime">
  Session's creation time
</ResponseField>

<ResponseField name="updated" type="DateTime">
  Session's updated time
</ResponseField>

<ResponseField name="reference_id" type="string">
  Merchant's reference ID
</ResponseField>

<ResponseField name="customer_id" type="string">
  Xendit-generated Customer ID
</ResponseField>

<ResponseField name="session_type" type="string">
  `PAY`: collects a one-time payment from a customer
</ResponseField>

<ResponseField name="currency" type="string">
  Currently supports IDR, THB, VND only
</ResponseField>

<ResponseField name="amount" type="number">
  The intended payment amount to be collected from the end user
</ResponseField>

<ResponseField name="country" type="string">
  Country code
</ResponseField>

<ResponseField name="mode" type="string">
  The integration mode for payment session. Only supported TERMINAL mode for now
</ResponseField>

<ResponseField name="channel_properties" type="object">
  Data required to initiate transaction
</ResponseField>

<ResponseField name="channel_properties.terminal_id" type="string">
  Terminal ID
</ResponseField>

<ResponseField name="channel_properties.order_id" type="string">
  Order ID
</ResponseField>

<ResponseField name="channel_properties.payment_methods" type="array">
  Valid Values: ID_INSERT_CARD, ID_CONTACTLESS, ID_BRIZZI, ID_QRIS, VN_CARD, VN_QR, TH_ALIPAY_PLUS, TH_WECHATPAY_CIL, TH_WECHATPAY_OCGT, TH_TRUEMONEY, TH_LINEPAY, TH_SHOPEEPAY, TH_SABUYMONEY, TH_MAXME, TH_CARD, TH_BBL_QRCS, TH_MULTIIPP, TH_QRCODE, MY_QR, MY_CARD, MY_EWALLET
  
  Empty array means all available channels are allowed
</ResponseField>

<ResponseField name="description" type="string">
  Payment description
</ResponseField>

<ResponseField name="metadata" type="object">
  Key-value entries for your custom data
</ResponseField>

<ResponseField name="status" type="string">
  <Enum values={["ACTIVE", "COMPLETED", "FAILED", "CANCELED"]} />
  
  Should be ACTIVE if payment session is created successfully
</ResponseField>

<ResponseField name="latest_payment_id" type="string">
  Latest Payment ID linked to the payment session
</ResponseField>

<ResponseField name="business_id" type="string">
  Xendit business ID
</ResponseField>

<ResponseField name="canceled_at" type="string">
  Session's cancellation time (ISO 8601 format)
  
  Only present if the session was canceled
</ResponseField>

## Example Request

<CodeGroup>
```bash cURL
curl -X POST https://terminal-dev.xendit.co/v1/terminal/sessions \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic <Base64Encode(API_KEY:)>" \
  -H "Idempotency-key: unique-key-123" \
  -d '{
    "reference_id": "order-123",
    "customer_id": "cust_123",
    "session_type": "PAY",
    "country": "ID",
    "currency": "IDR",
    "amount": 100000,
    "mode": "TERMINAL",
    "description": "Payment for order #123",
    "channel_properties": {
      "terminal_id": "TERM001",
      "order_id": "ORDER123",
      "payment_methods": ["ID_INSERT_CARD", "ID_CONTACTLESS"]
    },
    "metadata": {
      "store_id": "store_001"
    }
  }'
```

```javascript JavaScript
const response = await fetch('https://terminal-dev.xendit.co/v1/terminal/sessions', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'Basic ' + btoa('API_KEY:'),
    'Idempotency-key': 'unique-key-123'
  },
  body: JSON.stringify({
    reference_id: 'order-123',
    customer_id: 'cust_123',
    session_type: 'PAY',
    country: 'ID',
    currency: 'IDR',
    amount: 100000,
    mode: 'TERMINAL',
    description: 'Payment for order #123',
    channel_properties: {
      terminal_id: 'TERM001',
      order_id: 'ORDER123',
      payment_methods: ['ID_INSERT_CARD', 'ID_CONTACTLESS']
    },
    metadata: {
      store_id: 'store_001'
    }
  })
});
```

```python Python
import requests
import base64

api_key = "your_api_key"
auth_string = base64.b64encode(f"{api_key}:".encode()).decode()

response = requests.post(
    'https://terminal-dev.xendit.co/v1/terminal/sessions',
    headers={
        'Content-Type': 'application/json',
        'Authorization': f'Basic {auth_string}',
        'Idempotency-key': 'unique-key-123'
    },
    json={
        'reference_id': 'order-123',
        'customer_id': 'cust_123',
        'session_type': 'PAY',
        'country': 'ID',
        'currency': 'IDR',
        'amount': 100000,
        'mode': 'TERMINAL',
        'description': 'Payment for order #123',
        'channel_properties': {
            'terminal_id': 'TERM001',
            'order_id': 'ORDER123',
            'payment_methods': ['ID_INSERT_CARD', 'ID_CONTACTLESS']
        },
        'metadata': {
            'store_id': 'store_001'
        }
    }
)
```
</CodeGroup>

## Example Response

```json
{
  "payment_session_id": "ps_1234567890abcdef",
  "created": "2025-01-27T10:30:00Z",
  "updated": "2025-01-27T10:30:00Z",
  "reference_id": "order-123",
  "customer_id": "cust_123",
  "session_type": "PAY",
  "currency": "IDR",
  "amount": 100000,
  "country": "ID",
  "mode": "TERMINAL",
  "channel_properties": {
    "terminal_id": "TERM001",
    "order_id": "ORDER123",
    "payment_methods": ["ID_INSERT_CARD", "ID_CONTACTLESS"]
  },
  "description": "Payment for order #123",
  "metadata": {
    "store_id": "store_001"
  },
  "status": "ACTIVE",
  "latest_payment_id": null,
  "business_id": "biz_1234567890"
}
```
